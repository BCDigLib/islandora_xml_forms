<?xml version="1.0" encoding="UTF-8"?>
<form xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://localhost/FormDefinition.xsd">
    <properties>
        <document_properties>
            <root>
                <local_name>form</local_name>
            </root>
        </document_properties>
    </properties>
    <elements>
        <element key="element">
            <type>fieldset</type>
            <title>Create Element</title>
            <actions>
                <read>
                    <path context="document">/element</path>
                </read>
                <create>
                    <element>element</element>
                </create>
            </actions>
            <children>
                <element key="type">
                    <title>Type</title>
                    <type>select</type>
                    <options>
                        <key>
                            <value type="string">Gets Replace by Hook Form Alter</value>
                        </key>
                    </options>
                    <ahah>
                        <key name="path">
                            <value type="string">xml/form/elements/ahah/rebuild/%</value>
                        </key>
                        <key name="method"><value type="string">replace</value></key>
                        <key name="wrapper"><value type="string">advance-form-controls-wrapper</value></key>
                        <key name="effect"><value type="string">fade</value></key>
                    </ahah>
                    <description>Used to determine the type of form element.</description>
                </element>
                <element key="common">
                    <type>fieldset</type>
                    <title>Common Form Controls</title>
                    <description>These form controls are common to all element types.</description>
                    <children>
                        <element key="title">
                            <title>Title</title>
                            <type>textfield</type>
                            <description>The title of the form element</description>
                        </element>
                    </children>
                </element>
                <element key="advanced">
                    <type>fieldset</type>
                    <title>Advanced Form Controls</title>
                    <prefix>&lt;div id="advance-form-controls-wrapper"&gt;</prefix>
                    <suffix>&lt;/div&gt;</suffix>
                    <description>These form controls are type dependant.</description>
                </element>
                <element key="actions">
                    <type>fieldset</type>
                    <title>XML Document Actions</title>
                    <description>Define actions for interacting with an XML Document for this element.</description>
                    <children>
                        <element>
                            <type>tabs</type>
                            <collapsible>false</collapsible>
                            <children>
                                <element key="read">
                                    <type>tabpanel</type>
                                    <title>Read</title>
                                    <description>Settings for populating this form element.</description>
                                    <user_data>
                                        <key name="add">
                                            <value type="boolean">false</value>
                                        </key>
                                        <key name="delete">
                                            <value type="boolean">false</value>
                                        </key>
                                    </user_data>
                                    <children>
                                        <element>
                                            <type>select</type>
                                            <title>Path Context</title>
                                            <description>The context in which the path will be executed in.</description>
                                            <options>
                                                <key name="document"><value type="string">document</value></key>
                                                <key name="parent"><value type="string">parent</value></key>
                                            </options>
                                        </element>
                                        <element>
                                            <type>textfield</type>
                                            <title>Path</title>
                                            <description>The XPath used to populate this form element.&lt;br/&gt; Any immediate children can use the DOMNode selected by this path as their parent context. &lt;br/&gt;The DOMNode selected by this path also defines the 'self' context for the Update and Delete actions.</description>
                                        </element>
                                    </children>
                                </element>
                                <element key="update">
                                    <type>tabpanel</type>
                                    <title>Update</title>
                                    <description>Settings for updating existing DOMNode if selected by the Read Action.</description>
                                    <user_data>
                                        <key name="add">
                                            <value type="boolean">false</value>
                                        </key>
                                        <key name="delete">
                                            <value type="boolean">false</value>
                                        </key>
                                    </user_data>
                                    <children>
                                        <element>
                                            <type>select</type>
                                            <title>Path Context</title>
                                            <description>The context in which the path will be executed in.</description>
                                            <options>
                                                <key name="parent"><value type="string">parent</value></key>
                                                <key name="document"><value type="string">document</value></key>
                                                <key name="self"><value type="string">self</value></key>
                                            </options>
                                        </element>
                                        <element>
                                            <type>textfield</type>
                                            <title>Path</title>
                                            <description>The XPath used to update this form element.</description>
                                            <default_value type="string">self::node</default_value>
                                        </element>
                                    </children>
                                </element>
                                <element key="create">
                                    <type>tabpanel</type>
                                    <title>Create</title>
                                    <description>Settings for creating new DOMNode's from this form elements submitted value.</description>
                                    <user_data>
                                        <key name="add">
                                            <value type="boolean">false</value>
                                        </key>
                                        <key name="delete">
                                            <value type="boolean">false</value>
                                        </key>
                                    </user_data>
                                    <children>
                                        <element>
                                            <type>select</type>
                                            <title>Path Context</title>
                                            <description>The context in which the path will be executed in.</description>
                                            <options>
                                                <key name="parent"><value type="string">parent</value></key>
                                                <key name="document"><value type="string">document</value></key>
                                            </options>
                                        </element>
                                        <element>
                                            <type>textfield</type>
                                            <title>Path</title>
                                            <description>The XPath used to find the element in which this element will be inserted.</description>
                                            <default_value type="string">self::node</default_value>
                                        </element>
                                    </children>
                                </element>
                                <element key="delete">
                                    <type>tabpanel</type>
                                    <title>Delete</title>
                                    <description>Settings for determining what DOMNodes to remove and in what cases.</description>
                                    <user_data>
                                        <key name="add">
                                            <value type="boolean">false</value>
                                        </key>
                                        <key name="delete">
                                            <value type="boolean">false</value>
                                        </key>
                                    </user_data>
                                    <children>
                                        <element>
                                            <type>select</type>
                                            <title>Path Context</title>
                                            <description>The context in which the path will be executed in.</description>
                                            <options>
                                                <key name="document"><value type="string">document</value></key>
                                                <key name="parent"><value type="string">parent</value></key>
                                            </options>
                                        </element>
                                        <element>
                                            <type>textfield</type>
                                            <title>Path</title>
                                            <description>The XPath will be used to find all the elements which should be deleted.</description>
                                            <default_value type="string">self::node</default_value>
                                        </element>
                                    </children>
                                </element>
                            </children>
                        </element>
                    </children>
                </element>
            </children>
        </element>
    </elements>
</form>
